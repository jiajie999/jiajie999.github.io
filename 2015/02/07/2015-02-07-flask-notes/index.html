<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Flask notes | J&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Notes for Advanced Concepts in Flask There are two closely related notions when it comes to scaling – how the application is affected with an increase in users and how it is affected with an increase">
<meta property="og:type" content="article">
<meta property="og:title" content="Flask notes">
<meta property="og:url" content="http://jiajie999.github.io/2015/02/07/2015-02-07-flask-notes/index.html">
<meta property="og:site_name" content="J&#39;s blog">
<meta property="og:description" content="Notes for Advanced Concepts in Flask There are two closely related notions when it comes to scaling – how the application is affected with an increase in users and how it is affected with an increase">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2015-02-07T12:02:21.000Z">
<meta property="article:modified_time" content="2020-08-13T07:52:04.898Z">
<meta property="article:author" content="Jie.Jia">
<meta property="article:tag" content="flask">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="J&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">J&#39;s blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://jiajie999.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-2015-02-07-flask-notes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/02/07/2015-02-07-flask-notes/" class="article-date">
  <time datetime="2015-02-07T12:02:21.000Z" itemprop="datePublished">2015-02-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Flask notes
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Notes for <a target="_blank" rel="noopener" href="http://www.syncano.com/advanced-concepts-flask/">Advanced Concepts in Flask</a></p>
<p>There are two closely related notions when it comes to scaling – how the application is affected with an increase in users and how it is affected with an increase in programmers writing it.</p>
<p>The central questions: How do we work effectively in teams of 20 developers, 40 developers, or even thousands? And how do we handle maximum load on our system?</p>
<ol>
<li><p>几条原则，感觉不光适用于flask，写别的东西也一样，不过最后三条不容易做到啊</p>
<ul>
<li><p>Modularity of functionality</p>
</li>
<li><p>Loosely coupled code is better than tightly coupled (usually)</p>
</li>
<li><p>Comment often</p>
</li>
<li><p>Reuse code as often as possible</p>
</li>
<li><p>Write code that is as general as possible</p>
</li>
<li><p>Test as often as possible, both at the module level and the system level</p>
</li>
<li><p>Give yourself enough time to get things done and then stay within budget</p>
</li>
<li><p>Collaboration is extremely important – pair program and have solid metrics about your code</p>
</li>
</ul>
</li>
<li><p>Blue print来划分各个app，放便日后升级、改动、排错</p>
</li>
<li><p>Contexts的正确使用（没太看懂为啥重要，貌似框架本身已经把细节藏的很深了。。。有待进一步学习）</p>
<ul>
<li><p>理解flask里面的contexts以参考这篇<a target="_blank" rel="noopener" href="http://kronosapiens.github.io/blog/2014/08/14/understanding-contexts-in-flask/">文章</a></p>
<blockquote>
<p>“contexts are used to control the presence or absence of various global variables, so that you, the developer, can simply assume that the correct variables will be available when you need them. Given that an application can be running in multiple threads and serving multiple clients at once…”    </p>
</blockquote>
<blockquote>
<p>From Miguel Grinberg’s Flask Web Development (p12):</p>
</blockquote>
<blockquote>
<p>When Flask receives a request from a client, it needs to make a few objects available to the view functions that will handle it. A good example of this is the request object, which encapsulates the HTTP request sent by the client.</p>
</blockquote>
<blockquote>
<p>The obvious way in which Flask could give a view function access to the request object is by sending it as an argument, but that would require every single view function in the application to have an extra argument. …</p>
</blockquote>
<blockquote>
<p>To avoid cluttering view functions with lots of arguments that may or may not be neded, Flask uses contexts to temporarily make certain objects globally accessible.</p>
</blockquote>
</li>
</ul>
<p>粗浅的理解就是context用来管理flask中的全局变量，每个请求进来后可以访问这类变量中的资源，例如数据库链接，并且这种访问是线程安全的。</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jiajie999.github.io/2015/02/07/2015-02-07-flask-notes/" data-id="ckdsi8gjd0003ll9kes8a2d95" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flask/" rel="tag">flask</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/03/19/2015-03-19-underscores-in-python/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          underscores in python
        
      </div>
    </a>
  
  
    <a href="/2014/10/08/concurrency-is-not-parallelism/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Concurrency is not Parallelism</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/mongo/">mongo</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ash-cmd/" rel="tag">ash,cmd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/closures-python/" rel="tag">closures,python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/concurrency/" rel="tag">concurrency</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flask/" rel="tag">flask</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongo/" rel="tag">mongo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nosql/" rel="tag">nosql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python-underscores/" rel="tag">python,underscores</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/ash-cmd/" style="font-size: 10px;">ash,cmd</a> <a href="/tags/closures-python/" style="font-size: 20px;">closures,python</a> <a href="/tags/concurrency/" style="font-size: 10px;">concurrency</a> <a href="/tags/flask/" style="font-size: 10px;">flask</a> <a href="/tags/mongo/" style="font-size: 10px;">mongo</a> <a href="/tags/nosql/" style="font-size: 10px;">nosql</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/python-underscores/" style="font-size: 10px;">python,underscores</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/08/13/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2015/06/16/2015-06-16-cmd-notes/">The Art of Command Line[转]</a>
          </li>
        
          <li>
            <a href="/2015/03/19/2015-03-19-underscores-in-python/">underscores in python</a>
          </li>
        
          <li>
            <a href="/2015/02/07/2015-02-07-flask-notes/">Flask notes</a>
          </li>
        
          <li>
            <a href="/2014/10/08/concurrency-is-not-parallelism/">Concurrency is not Parallelism</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Jie.Jia<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>