<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"jiajie999.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="J&#39;s blog">
<meta property="og:url" content="http://jiajie999.github.io/page/3/index.html">
<meta property="og:site_name" content="J&#39;s blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Jie.Jia">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://jiajie999.github.io/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>J's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">J's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jiajie999.github.io/2014/10/08/concurrency-is-not-parallelism/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jie.Jia">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="J's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/10/08/concurrency-is-not-parallelism/" class="post-title-link" itemprop="url">Concurrency is not Parallelism</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-10-08 22:06:53" itemprop="dateCreated datePublished" datetime="2014-10-08T22:06:53+08:00">2014-10-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-08-13 15:52:04" itemprop="dateModified" datetime="2020-08-13T15:52:04+08:00">2020-08-13</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>##并发 vs. 并行</p>
<p>并发是指同时处理很多事情。</p>
<p>而并行是指同时能完成很多事情。</p>
<p>两者不同，但相关。</p>
<p>一个重点是组合，一个重点是执行。</p>
<p>并发提供了一种方式让我们能够设计一种方案将问题(非必须的)并行的解决。</p>
<p>地鼠的例子<a target="_blank" rel="noopener" href="http://www.vaikan.com/docs/Concurrency-is-not-Parallelism">源ppt地址</a></p>
<p><strong>习得</strong></p>
<p>有很多分解流程的方式。</p>
<p>这都是并发设计。</p>
<p>一旦完成了分解，并行可能会丧失，但很容易纠正。</p>
<p>##并发是并行成为可能</p>
<p>这个负载均衡的例子具有很明显的并行和可扩展性。</p>
<p>Worker数可以非常巨大。</p>
<p>Go语言的这种并发特征能的开发一个安全的、好用的、可扩展的、并行的软件变得很容易</p>
<p>##并发简化了同步</p>
<p>没有明显的需要同步的操作。</p>
<p>程序的这种设计隐含的实现了同步。</p>
<p>##结论</p>
<p>并发很强大。</p>
<p>并发不是并行。</p>
<p>并发帮助实现并行。</p>
<p>并发使并行(扩展等)变得容易。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jiajie999.github.io/2014/09/28/cs183-Zh-cn-notes-1-6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jie.Jia">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="J's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/09/28/cs183-Zh-cn-notes-1-6/" class="post-title-link" itemprop="url">Peter Thiel在斯坦福的创业课程．摘录</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-09-28 22:06:53" itemprop="dateCreated datePublished" datetime="2014-09-28T22:06:53+08:00">2014-09-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-08-13 16:48:41" itemprop="dateModified" datetime="2020-08-13T16:48:41+08:00">2020-08-13</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li>有启发性的东西记下来慢慢体会，全文</li>
</ul>
<ol start="0">
<li><p>伟大的科技公司会做三件事情。第一，它会创造价值；第二，它会是比较持久的；第三，它会获取自己创造的价值中的一部分。</p>
</li>
<li><p>Guy Kawasaki 提议过一个比较有意思的估值公式：估值 = （100 万 * 工程师数量）- （50 万 *MBA 数量）。</p>
</li>
<li><p>另一个最常用的数据是市盈率（PER）。市盈率是公司股份价格和每股净收入的一个比例。市盈率是不会考虑增长趋势的。如果要考虑增长趋势，我们要用市盈率相对盈利增长比率（PEG），就是市盈率除以收入增长率。对于创业公司，PEG 是一个很有价值的数据。</p>
</li>
<li><p>传统行业公司的估值是不一样的。在传统行业里，大多数的价值是近期价值，所以投资人主要看现金流。如果一家公司能够保持 5，6 年好的现金流就是一个不错的投资对象。</p>
</li>
<li><p>如何判断市场垄断：<br>  Sherman 法律条款读：“垄断只有在伴随反竞争抑制行为时才属于违法行为。”所以只要我们知道反竞争抑制行为是什么，我们就可以判断垄断是否合法。</p>
<p>  美国司法部有三个关于垄断的测试。第一个是 Lerner 指数，用来判断一家公司在市场里的影响力。Lerner 指数是（价格 - 成本）/ 价格；0 是完全竞争性市场，而 1 是完全垄断性市场。</p>
<p>  第二个是 Herfindahl-Hirschman 指数，用来判断行业大小和公司的大小。基本计算方法是这个行业前 50 公司市场份额的立方的总和，越接近 1 市场就越垄断性。</p>
<p>  第三个是 m-公司集中率，就是把行业里最大的几家公司加起来，如果他们的市场份额超过 70% 就有垄断嫌疑。</p>
</li>
<li><p>风投、人脉网和最后的想法</p>
<p>  那风投有什么用处呢？风投们其实没有太多生意，他们依赖与创业者的人脉关系，而这些人脉关系也是他们最大的价值。所以风投这个行业是难以货币化的，因为它是一个人脉的行业，也是有垄断性的。     PayPal 人脉网（指的是当时创建 PayPal 的一群人，包括 Peter Thiel、Elon Musk 等）在硅谷是很有影响力的，但是每个伟大的公司都有类似的一个人脉网。伟大的公司是不可以货币化的公司和模式，他     们是依赖人脉的；他们创造价值、有持久性，而且他们是赚钱的。</p>
</li>
<li><p>怎样获取一个市场</p>
<p>  一家公司想要获取市场，必须得拥有品牌，规模成本优势，网络效应，以及专利技术这几点的综合。在这些要素中，品牌可以说是最难搞定的。其中一种思考方法就是把品牌当做是垄断的一个代号。但     更为特殊的是，要做品牌比垄断还难。</p>
<p>  不论品牌究竟是什么，都意味着人们不会把它的商品当做是可替代的，所以才愿意花更高的价格去买。拿 Pepsi 和 Coke 举例。多数人对这两者都会有鲜明的喜好，这两家公司也都从顾客那里获利很         多，但其实这两者商品本质上没什么不同。人们其实买的是两个不同品牌。如果你能建立起一个品牌，那其实你也就成了垄断。</p>
<p>  而规模成本优势，网络效应，还有专利技术这几点比较好理解。当固定成本高，而边际成本变低时规模成本优势就在发挥作用。Amazon 在线上市场很有这方面的优势，而沃尔玛则在线下市场做得很         好。他们规模越大效率越高。而网络效应也多种多样，但他们的主旨就是用产品特性把人们锁在特定市场内。类似的，专利技术也有很多种类，但它的重点就是，它的存在使得其他人不能用你所研发出     的技术。</p>
<p> 苹果很可能是现在科技领域里最大的垄断者 - 它拥有以上提到的所有要素。它有一系列的专利技术。而软硬结合的产品设置也使得它们有属于自己的完整价值链。有了富士康成千上万的生产员工，它也     可以发展出规模成本优势。而数不胜数的 Apple 平台上的开发者，以及用户重复且大量地和苹果的整个生态系统进行交互，它就发展成了可以把人们锁死在这个平台的网络效应。</p>
<p> 另外，苹果的品牌也并不是以上这些要素的简单集合，而是一种很难定义的东西。如果别的公司做了一模一样的产品，它的定价也只能比苹果的其低。品牌这项优势，比苹果的其他优势更多帮助苹果获     利。</p>
</li>
</ol>
<p>四、 创建你自己的市场<br>创造一个真正有价值的公司有三个步骤。第一，你得去找到，创造或重新发现一个新市场。第二，你去垄断那个市场。第三，你找到能够长期维持垄断的方法。</p>
<p>A. 选择一个合适的市场</p>
<p>你所选的这个原始市场它不要太大也不要太小，应该是恰当就好。市场太小意味着没什么顾客，这就成问题了。PayPal 一开始想做的是帮人们用掌上电脑处理转账。当然没有其他人在做这个，这很好。但是，其实也没有人需要这项服务，这就很糟糕。而太大的市场也不是件好事。这个市场会很难搞定，而且通常竞争激烈，难以获利。<br>找到一个最合适的市场这并不是在做修辞联系。我们没在讨论怎么完善说法去唬住我们的投资人。创建你自己的市场，这是上述所说的你要找并集还是找交集都没有关系。真正重要的是你要找出市场的客观真相是什么。<br>找到合适市场这事，并不是指你要向投资人述说一段能打动人的故事和愿景，也和上部分提到的什么是强调交集还是强调并集的论调没有关系。而是你要真真切切地去了解这个市场的真实情况是什么样的。</p>
<p>B. 垄断和扩张</p>
<p>但如果你自己没能做出吸引人的论调去解释这个市场究竟是怎么样的，以及要如何去扩张，那很可能你还没找到那个合适的市场。扩张计划是至关重要的。一个典例就是爱迪生和贝尔的电话公司。贝尔发明了电话，而这也就创造出了一个新市场。原始市场是非常地小；一开始只有极少数的人加入到这个 (电话) 网络中。在一个这么小且处在初级的市场，很容易就成为唯一的玩家。他们一直保持扩张，而这个市场也随着他们的扩张而变得可持续。网络效应开始显现，很快就建立起了其他玩家很难攻入的壁垒。</p>
<p>因此最好的生意就是那种你可以向别人画出一张美好大饼的。蓝图各有不同，但它们都有类似的故事架构：找到一个小的目标市场，然后成为这个领域里提供最好服务的玩家。接着再占领相邻的市场，扩宽你所做事情的范围，捕获更多东西。一旦运营达到一定规模时，网络效应，技术以及规模成本优势甚至是品牌等因素的集合就会让其他人很难跟进。这就是创建一家有价值公司的秘籍。</p>
<p>可能每一家科技都或多或少遵循着上述的演进模式。当然，要把一家公司的未来想得特别清楚是很难的，这种难度不亚于探知整个世界的未来。所以也不可能把方方面面都想得很清楚。但是不能百分百弄清楚未来，并不意味着我们就不要去按这样的方式思考。而且你思考得越多，成功的概率也会变大。</p>
<p>六、 和你冲锋陷阵的团队<br>有个方法可以检测你到底有没有找到最适合探索的科技趋势，那就是看你能不能回答这样一个问题：你公司的第二十名员工为什么会选择加入你们？如果对于这个问题你有着很好的答案，那你可能就处在正确的轨道上了。这个问题看上去很简单，实则不然。</p>
<p>到底怎样才算得上是个好答案？首先我们可以还原一下情景。你必须得意识到，你是在和像 Google 这样的公司在竞争员工。所以换个法子问出这个问题：为什么第二十名员工会选择来你这里，而不去可以让他名利双收的 Google？</p>
<p>最好的答案应该是，强调你在做一份可以垄断的生意。初创公司的孩童期就是被早期员工素质推动着走的。为了招到优秀的人才，你需要一个很吸引人的垄断蓝图。要想和 Google 竞争人才，你首先要明白，Google 它的核心业务是占市场垄断地位的。当然你不太可能在它的核心业务和它竞争。但说到招人时，如果你没有很好的说服力去让别人相信你日后也能成为一个垄断者，那你可能就竞争不过那些优秀的公司。</p>
<p>我们下一次要讨论的问题就是：你会选择和怎样的人，和什么样的团队一起冲锋陷阵？</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jiajie999.github.io/2014/08/19/ChangeSRCforRuby/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jie.Jia">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="J's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/08/19/ChangeSRCforRuby/" class="post-title-link" itemprop="url">Change your gem source if your living in china...</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-08-19 22:06:53" itemprop="dateCreated datePublished" datetime="2014-08-19T22:06:53+08:00">2014-08-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-08-13 16:04:27" itemprop="dateModified" datetime="2020-08-13T16:04:27+08:00">2020-08-13</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>感谢taobao提供这个源，FUC××××××WALL！！！ <a target="_blank" rel="noopener" href="https://ruby.taobao.org/">taobao源地址</a></p>
<pre><code>$ gem sources --remove https://rubygems.org/
$ gem sources -a https://ruby.taobao.org/
$ gem sources -l
*** CURRENT SOURCES ***

https://ruby.taobao.org
# 请确保只有 ruby.taobao.org
$ gem install rails</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jiajie999.github.io/2014/08/14/closures-in-python/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jie.Jia">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="J's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/08/14/closures-in-python/" class="post-title-link" itemprop="url">Python的闭包</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-08-14 22:06:53" itemprop="dateCreated datePublished" datetime="2014-08-14T22:06:53+08:00">2014-08-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-08-13 15:52:04" itemprop="dateModified" datetime="2020-08-13T15:52:04+08:00">2020-08-13</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/4020419/closures-in-python">SO上关于Python闭包问题的最佳答案</a></p>
<p>A closure occurs when a function has access to a local variable from an enclosing scope that has finished its execution.</p>
<pre><code>def make_printer(msg):
    def printer():
        print msg
    return printer

printer = make_printer(&#39;Foo!&#39;)
printer()</code></pre>
<p>When make_printer is called, a new frame is put on the stack with the compiled code for the printer function as a constant and the value of msg as a local. It then creates and returns the function. Because the function printer references the msg variable, it is kept alive after the make_printer function has returned.</p>
<p>So, if your nested functions don’t</p>
<p>access variables that are local to enclosing scopes,<br>do so when they are executed outside of that scope,<br>then they are not closures.</p>
<p>Here’s an example of a nested function which is not a closure.</p>
<pre><code>def make_printer(msg):
    def printer(msg=msg):
        print msg
    return printer

printer = make_printer(&quot;Foo!&quot;)
printer()  #Output: Foo!</code></pre>
<p>Here, we are binding the value to the default value of a parameter. This occurs when the function printer is created and so no reference to the value of msg external to printer needs to be maintained after make_printer returns. msg is just a normal local variable of the function printer in this context.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://jiajie999.github.io/2014/07/15/tukumx-is-better-than-mongo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jie.Jia">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="J's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/07/15/tukumx-is-better-than-mongo/" class="post-title-link" itemprop="url">TukuMX is better than mongo?</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-07-15 20:06:53" itemprop="dateCreated datePublished" datetime="2014-07-15T20:06:53+08:00">2014-07-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-08-13 15:52:04" itemprop="dateModified" datetime="2020-08-13T15:52:04+08:00">2020-08-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/mongo/" itemprop="url" rel="index"><span itemprop="name">mongo</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>今天在网上看到一个TukuMX的开源项目，算是mongodb的一个分支项目。也是由一家商业公司开源出来，并同时提供商业版本，记录一些点备查。</p>
<p>###亮点：</p>
<ul>
<li>压缩。MongoDB BSON格式的带来的存储空间消耗实在是太大了，使用TokuMX 默认的zlib压缩可以减少大量的磁盘空间占用（1/3-1/20）。</li>
<li>更好的存储空间利用效率。MongoDB 空间释放是个麻烦的事情（需要drop 整个个数据库或者repair），TokuMX drop collect或者index即可释放空间。</li>
<li>更好的内存管理。MongoDB nmap简单，但是不方便分配固定内存。caching和 IO都交由操作系统去调度，时间长了，数据大了容易造成内存泄露。TokuMX 通过参数指定cacheSize分配固定大小的内存（多实例环境这个非常适用，虽然不推荐使用多实例）。</li>
<li>写优化。这个是TokuMX 最基础最根本的东西，在大数据量的情况下写入速度基本保持不变。MongoDB在超过1亿记录后或在数据比较大的情况下，写性能衰减得比较厉害，这一切归因于40年的B-tree索引，也正是TokuMX 分形树索引优化的地方。</li>
<li>其他的特性，如document 级别的锁，事务支持等，这些不是我们所重的，实际效果还需时间检验。</li>
</ul>
<p>###不足：</p>
<ul>
<li>不支持，如geo索引，全文索引。</li>
</ul>
<p>###<a target="_blank" rel="noopener" href="http://www.luanxiang.org/blog/archives/1760.html">TokuMX的分形索引是什么？</a><br>这篇文章讲了tukumx的索引算法，一种改进版B-tree</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Jie.Jia</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">25</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">19</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jie.Jia</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
